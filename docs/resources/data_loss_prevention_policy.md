---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "powerplatform_data_loss_prevention_policy Resource - powerplatform"
subcategory: ""
description: |-
  Data Loss Prevention Policy
---

# powerplatform_data_loss_prevention_policy (Resource)

Data Loss Prevention Policy

## Example Usage

```terraform
terraform {
  required_providers {
    powerplatform = {
      version = "0.2"
      source  = "github.com/microsoft/terraform-provider-power-platform"
    }
  }
}
provider "powerplatform" {
  username = var.username
  password = var.password
  tenant_id = var.tenant_id
}
resource "powerplatform_data_loss_prevention_policy" "my_policy" {
  display_name                      = "Test Policy"
  environment_type                  = "ExceptEnvironments"
  default_connectors_classification = "Blocked"
  environments = [
    {
      environment_name = "00000000-0000-0000-0000-000000000000"
    },
    {
      environment_name = "00000000-0000-0000-0000-000000000001"
    }
  ]

  connector_groups = [
    {
      classification = "Confidential"
      connectors = [{
        id   = "/providers/Microsoft.PowerApps/apis/shared_sql"
        name = "SQL Server"
        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_office365"
          name = "Office 365 Outlook"
        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_assistantstudio"
          name = "Dynamics 365 Sales Insights"
        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_dynamics365marketing"
          name = "Dynamics 365 Marketing"
        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_office365users"
          name = "Office 365 Users"
      }]
    },
    {
      classification = "General"
      connectors = [

       
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_onedriveforbusiness"
          name = "OneDrive for Business"
        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_approvals"
          name = "Approvals"

        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_cloudappsecurity"
          name = "Defender for Cloud Apps"
        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_commondataservice"
          name = "Microsoft Dataverse (legacy)"
        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"
          name = "Microsoft Dataverse"
        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_excelonlinebusiness"
          name = "Excel Online (Business)"
        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_flowpush"
          name = "Notifications"
        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_kaizala"
          name = "Microsoft Kaizala"
        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_microsoftformspro"
          name = "Dynamics 365 Customer Voice"
        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_office365groups"
          name = "Office 365 Groups"
        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_office365groupsmail"
          name = "Office 365 Groups Mail"
        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_onenote"
          name = "OneNote (Business)"
        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_planner"
          name = "Planner"
        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_powerappsnotification"
          name = "Power Apps Notification"
        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_powerappsnotificationv2"
          name = "Power Apps Notification V2"
        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_powerbi"
          name = "Power BI"

        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_shifts"
          name = "Shifts for Microsoft Teams"

        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_skypeforbiz"
          name = "Skype for Business Online"
        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_teams"
          name = "Microsoft Teams"
        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_todo"
          name = "Microsoft To-Do (Business)"
        },
        {
          id   = "/providers/Microsoft.PowerApps/apis/shared_yammer"
          name = "Yammer"
        },
         {
          id   = "/providers/Microsoft.PowerApps/apis/shared_sharepointonline"
          name = "SharePoint"
        }
      ]
    },
    {
      classification = "Blocked"
      connectors     = []
    }
  ]

}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `blocked_connectors` (Attributes Set) Blocked connectors canâ€™t be used where this policy is applied. (see [below for nested schema](#nestedatt--blocked_connectors))
- `business_connectors` (Attributes Set) Connectors for sensitive data (see [below for nested schema](#nestedatt--business_connectors))
- `custom_connectors_patterns` (Attributes Set) Custom connectors patterns (see [below for nested schema](#nestedatt--custom_connectors_patterns))
- `default_connectors_classification` (String) Default classification for connectors ("General", "Confidential", "Blocked")
- `display_name` (String) Display name of the policy
- `environment_type` (String) Default environment handling for the policy ("AllEnvironments", "ExceptEnvironments", "OnlyEnvironments")
- `environments` (Attributes Set) Environment to which the policy is applied (see [below for nested schema](#nestedatt--environments))
- `non_business_connectors` (Attributes Set) Connectors for non-sensitive data (see [below for nested schema](#nestedatt--non_business_connectors))

### Read-Only

- `created_by` (String) User who created the policy
- `created_time` (String) Time when the policy was created
- `id` (String) Unique name of the policy
- `last_modified_by` (String) User who last modified the policy
- `last_modified_time` (String) Time when the policy was last modified

<a id="nestedatt--blocked_connectors"></a>
### Nested Schema for `blocked_connectors`

Optional:

- `action_rules` (Attributes List) Action rules for the connector (see [below for nested schema](#nestedatt--blocked_connectors--action_rules))
- `default_action_rule_behavior` (String) Default action rule behavior for the connector ("Allow", "Block")
- `endpoint_rules` (Attributes List) Endpoint rules for the connector (see [below for nested schema](#nestedatt--blocked_connectors--endpoint_rules))
- `id` (String) ID of the connector
- `name` (String) Name of the connector

<a id="nestedatt--blocked_connectors--action_rules"></a>
### Nested Schema for `blocked_connectors.action_rules`

Required:

- `action_id` (String) ID of the action rule
- `behavior` (String) Behavior of the action rule ("Allow", "Block")


<a id="nestedatt--blocked_connectors--endpoint_rules"></a>
### Nested Schema for `blocked_connectors.endpoint_rules`

Required:

- `behavior` (String) Behavior of the endpoint rule ("Allow", "Deny")
- `endpoint` (String) Endpoint of the endpoint rule
- `order` (Number) Order of the endpoint rule



<a id="nestedatt--business_connectors"></a>
### Nested Schema for `business_connectors`

Optional:

- `action_rules` (Attributes List) Action rules for the connector (see [below for nested schema](#nestedatt--business_connectors--action_rules))
- `default_action_rule_behavior` (String) Default action rule behavior for the connector ("Allow", "Block")
- `endpoint_rules` (Attributes List) Endpoint rules for the connector (see [below for nested schema](#nestedatt--business_connectors--endpoint_rules))
- `id` (String) ID of the connector
- `name` (String) Name of the connector

<a id="nestedatt--business_connectors--action_rules"></a>
### Nested Schema for `business_connectors.action_rules`

Required:

- `action_id` (String) ID of the action rule
- `behavior` (String) Behavior of the action rule ("Allow", "Block")


<a id="nestedatt--business_connectors--endpoint_rules"></a>
### Nested Schema for `business_connectors.endpoint_rules`

Required:

- `behavior` (String) Behavior of the endpoint rule ("Allow", "Deny")
- `endpoint` (String) Endpoint of the endpoint rule
- `order` (Number) Order of the endpoint rule



<a id="nestedatt--custom_connectors_patterns"></a>
### Nested Schema for `custom_connectors_patterns`

Required:

- `data_group` (String) Data group of the connector ("Business", "NonBusiness", "Blocked", "Ignore")
- `host_url_pattern` (String) Pattern of the connector
- `order` (Number) Order of the connector


<a id="nestedatt--environments"></a>
### Nested Schema for `environments`

Required:

- `name` (String) Unique Identifier of the environment


<a id="nestedatt--non_business_connectors"></a>
### Nested Schema for `non_business_connectors`

Optional:

- `action_rules` (Attributes List) Action rules for the connector (see [below for nested schema](#nestedatt--non_business_connectors--action_rules))
- `default_action_rule_behavior` (String) Default action rule behavior for the connector ("Allow", "Block")
- `endpoint_rules` (Attributes List) Endpoint rules for the connector (see [below for nested schema](#nestedatt--non_business_connectors--endpoint_rules))
- `id` (String) ID of the connector
- `name` (String) Name of the connector

<a id="nestedatt--non_business_connectors--action_rules"></a>
### Nested Schema for `non_business_connectors.action_rules`

Required:

- `action_id` (String) ID of the action rule
- `behavior` (String) Behavior of the action rule ("Allow", "Block")


<a id="nestedatt--non_business_connectors--endpoint_rules"></a>
### Nested Schema for `non_business_connectors.endpoint_rules`

Required:

- `behavior` (String) Behavior of the endpoint rule ("Allow", "Deny")
- `endpoint` (String) Endpoint of the endpoint rule
- `order` (Number) Order of the endpoint rule
