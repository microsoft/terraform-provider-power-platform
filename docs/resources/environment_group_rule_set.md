---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "powerplatform_environment_group_rule_set Resource - powerplatform"
subcategory: ""
description: |-
  Allows the creation of environment group rulesets. See Power Platform documentation https://learn.microsoft.com/power-platform/admin/environment-groups for more information on the available rules that can be applied to an environment group.
  !> Known Issue: This resource only works with a user context and can not be used at this time with a service principal.  This is a limitation of the underlying API.
---

# powerplatform_environment_group_rule_set (Resource)

Allows the creation of environment group rulesets. See [Power Platform documentation](https://learn.microsoft.com/power-platform/admin/environment-groups) for more information on the available rules that can be applied to an environment group.

!> Known Issue: This resource only works with a user context and can not be used at this time with a service principal.  This is a limitation of the underlying API.

## Example Usage

```terraform
terraform {
  required_providers {
    powerplatform = {
      source = "microsoft/power-platform"
    }
  }
}

provider "powerplatform" {
  use_cli = true
}

resource "powerplatform_environment_group" "example_group" {
  display_name = "example_environment_group_ruleset"
  description  = "Example environment group"
}

resource "powerplatform_environment_group_rule_set" "example_group_rule_set" {
  environment_group_id = powerplatform_environment_group.example_group.id
  rules = {
    sharing_controls = {
      share_mode      = "exclude sharing with security groups"
      share_max_limit = 42
    }
    usage_insights = {
      insights_enabled = false
    }
    maker_welcome_content = {
      maker_onboarding_url      = "https://contoso.com/onboarding"
      maker_onboarding_markdown = "## Welcome to the environment!\n\n**This is a markdown description.**"
    }
    solution_checker_enforcement = {
      solution_checker_mode = "block"
      send_emails_enabled   = true
    }
    backup_retention = {
      period_in_days = 21
    }
    ai_generated_descriptions = {
      ai_description_enabled = false
    }
    ai_generative_settings = {
      move_data_across_regions_enabled = true
      bing_search_enabled              = false
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `environment_group_id` (String) Unique id of the environment group

### Optional

- `rules` (Attributes) Rules for the environment group (see [below for nested schema](#nestedatt--rules))
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `id` (String) Unique id of the environment group ruleset

<a id="nestedatt--rules"></a>
### Nested Schema for `rules`

Optional:

- `ai_generated_descriptions` (Attributes) AI Generated Descriptions (see [below for nested schema](#nestedatt--rules--ai_generated_descriptions))
- `ai_generative_settings` (Attributes) AI Generative Settings (see [below for nested schema](#nestedatt--rules--ai_generative_settings))
- `backup_retention` (Attributes) Backup Retention (see [below for nested schema](#nestedatt--rules--backup_retention))
- `maker_welcome_content` (Attributes) Maker Welcome Content (see [below for nested schema](#nestedatt--rules--maker_welcome_content))
- `sharing_controls` (Attributes) Sharing controls (see [below for nested schema](#nestedatt--rules--sharing_controls))
- `solution_checker_enforcement` (Attributes) Solution Checker Enforcement (see [below for nested schema](#nestedatt--rules--solution_checker_enforcement))
- `usage_insights` (Attributes) Usage Insights (see [below for nested schema](#nestedatt--rules--usage_insights))

<a id="nestedatt--rules--ai_generated_descriptions"></a>
### Nested Schema for `rules.ai_generated_descriptions`

Required:

- `ai_description_enabled` (Boolean) Enable AI generated description


<a id="nestedatt--rules--ai_generative_settings"></a>
### Nested Schema for `rules.ai_generative_settings`

Required:

- `bing_search_enabled` (Boolean) Agree to enable Bing search features
- `move_data_across_regions_enabled` (Boolean) Agree to move data across regions


<a id="nestedatt--rules--backup_retention"></a>
### Nested Schema for `rules.backup_retention`

Required:

- `period_in_days` (Number) Backup retention period in days: 7, 14, 21, 28


<a id="nestedatt--rules--maker_welcome_content"></a>
### Nested Schema for `rules.maker_welcome_content`

Required:

- `maker_onboarding_markdown` (String) Maker onboarding markdown
- `maker_onboarding_url` (String) Maker onboarding URL


<a id="nestedatt--rules--sharing_controls"></a>
### Nested Schema for `rules.sharing_controls`

Required:

- `share_mode` (String) Share mode for canvas apps: `No limit`, `Exclude sharing with security groups`

Optional:

- `share_max_limit` (Number) Maximum total of individual who can be shared to: (-1..99). If `share_mode` is `No limit`, this value must be -1.


<a id="nestedatt--rules--solution_checker_enforcement"></a>
### Nested Schema for `rules.solution_checker_enforcement`

Required:

- `send_emails_enabled` (Boolean) Send emails only when solution is blocked, if unchecked you'll also get emails when there are warnings
- `solution_checker_mode` (String) Solution checker enforceemnt mode: none, warm, block


<a id="nestedatt--rules--usage_insights"></a>
### Nested Schema for `rules.usage_insights`

Required:

- `insights_enabled` (Boolean) Inculde insights for all Managed Environment in this group in weekly email digest.



<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
